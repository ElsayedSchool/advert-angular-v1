import{b as k,d as D}from"./chunk-4KGOO533.js";import{I as b,J as s,K as v,L as h,M as S,O as y,P as x,Q as w,R as C,T as L,h as g,ta as E}from"./chunk-56Y5DU2Y.js";import{$a as c,Ia as d,Ka as l,Ra as u,Sa as e,Ta as i,Ua as m,Y as p,ib as t,sb as f}from"./chunk-ZOB7FGXT.js";var a=class{constructor(n,r,o){this.loginSer=n,this.fb=r,this.toastr=o,this.formData=new S({}),this.isLoading=!1}ngOnInit(){this.loginSer.autoLogin(),this.initForm()}initForm(){this.formData=this.fb.group({username:this.fb.control("",[s.required]),password:this.fb.control("",[s.required,s.minLength(8)])})}onSubmit(){this.isLoading=!0,this.loginSer.login(this.formData.value).subscribe({next:n=>{this.isLoading=!1,n.body&&this.loginSer.onFirstLogin()},error:n=>{this.isLoading=!1}})}},F=a;(()=>{a.\u0275fac=function(r){return new(r||a)(l(k),l(L),l(D))}})(),(()=>{a.\u0275cmp=p({type:a,selectors:[["app-pages-login"]],standalone:!0,features:[f],decls:47,vars:2,consts:[[1,"container"],[1,"section","register","min-vh-100","d-flex","flex-column","align-items-center","justify-content-center","py-4"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-6","d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","justify-content-center","py-4"],["routerLink","/",1,"logo","d-flex","align-items-center","w-auto"],["src","assets/img/logo.png","alt",""],[1,"d-none","d-lg-block"],[1,"card","mb-3"],[1,"card-body"],[1,"pt-4","pb-2"],[1,"card-title","text-center","pb-0","fs-4"],[1,"text-center","small"],[1,"row","g-3","needs-validation",3,"formGroup","submit"],[1,"col-12"],["for","yourUsername",1,"form-label"],[1,"input-group","has-validation"],["id","inputGroupPrepend",1,"input-group-text"],["formControlName","username","type","text","name","username","id","yourUsername","required","",1,"form-control"],[1,"invalid-feedback"],["for","yourPassword",1,"form-label"],["formControlName","password","type","password","name","password","id","yourPassword","required","",1,"form-control"],[1,"form-check"],["type","checkbox","name","remember","value","true","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled","onClick"],[1,"small","mb-0"],["routerLink","/pages-register"]],template:function(r,o){r&1&&(e(0,"main")(1,"div",0)(2,"section",1)(3,"div",0)(4,"div",2)(5,"div",3)(6,"div",4)(7,"a",5),m(8,"img",6),e(9,"span",7),t(10,"Admin"),i()()(),e(11,"div",8)(12,"div",9)(13,"div",10)(14,"h5",11),t(15,"Login to Your Account"),i(),e(16,"p",12),t(17,"Enter your username & password to login"),i()(),e(18,"form",13),c("submit",function(){return o.onSubmit()}),e(19,"div",14)(20,"label",15),t(21,"Username"),i(),e(22,"div",16)(23,"span",17),t(24,"@"),i(),m(25,"input",18),e(26,"div",19),t(27,"Please enter your username."),i()()(),e(28,"div",14)(29,"label",20),t(30,"Password"),i(),m(31,"input",21),e(32,"div",19),t(33,"Please enter your password!"),i()(),e(34,"div",14)(35,"div",22),m(36,"input",23),e(37,"label",24),t(38,"Remember me"),i()()(),e(39,"div",14)(40,"button",25),c("onClick",function(){return o.onSubmit()}),t(41,"Login"),i()(),e(42,"div",14)(43,"p",26),t(44,"Don't have account? "),e(45,"a",27),t(46,"Create an account"),i()()()()()()()()()()()()),r&2&&(d(18),u("formGroup",o.formData),d(22),u("disabled",o.formData.invalid))},dependencies:[g,E,y,b,v,h,C,x,w]})})();export{F as PagesLoginComponent};
